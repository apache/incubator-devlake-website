"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[6863],{57466:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var i=a(87462),n=(a(67294),a(3905));a(61839);const o={title:"Jira",sidebar_position:4,description:"Config UI instruction for Jira"},s=void 0,r={unversionedId:"Configuration/Jira",id:"version-v0.19/Configuration/Jira",title:"Jira",description:"Config UI instruction for Jira",source:"@site/versioned_docs/version-v0.19/Configuration/Jira.md",sourceDirName:"Configuration",slug:"/Configuration/Jira",permalink:"/zh/docs/v0.19/Configuration/Jira",draft:!1,editUrl:"https://github.com/apache/incubator-devlake-website/edit/main/versioned_docs/version-v0.19/Configuration/Jira.md",tags:[],version:"v0.19",sidebarPosition:4,frontMatter:{title:"Jira",sidebar_position:4,description:"Config UI instruction for Jira"},sidebar:"docsSidebar",previous:{title:"GitLab",permalink:"/zh/docs/v0.19/Configuration/GitLab"},next:{title:"PagerDuty",permalink:"/zh/docs/v0.19/Configuration/PagerDuty"}},l={},c=[{value:"Step 1 - Add Data Connections",id:"step-1---add-data-connections",level:2},{value:"Stept 1.1 - Authentication",id:"stept-11---authentication",level:3},{value:"Connection Name",id:"connection-name",level:4},{value:"Jira Cloud",id:"jira-cloud",level:4},{value:"Endpoint URL",id:"endpoint-url",level:5},{value:"E-mail",id:"e-mail",level:5},{value:"API Token",id:"api-token",level:5},{value:"Jira Server/Data Center",id:"jira-serverdata-center",level:4},{value:"Endpoint URL",id:"endpoint-url-1",level:5},{value:"Authentication Method",id:"authentication-method",level:5},{value:"Username",id:"username",level:5},{value:"Password",id:"password",level:5},{value:"Personal Access Token",id:"personal-access-token",level:5},{value:"Token Permissions",id:"token-permissions",level:4},{value:"Proxy URL (Optional)",id:"proxy-url-optional",level:4},{value:"Fixed Rate Limit (Optional)",id:"fixed-rate-limit-optional",level:5},{value:"Test and Save Connection",id:"test-and-save-connection",level:4},{value:"Step 1.2 - Add Data Scopes",id:"step-12---add-data-scopes",level:3},{value:"Boards",id:"boards",level:4},{value:"Step 1.3 - Add Scope Config (Optional)",id:"step-13---add-scope-config-optional",level:3},{value:"Issue Tracking",id:"issue-tracking",level:4},{value:"Additional Settings",id:"additional-settings",level:4},{value:"Step 2 - Collect Data in a Project",id:"step-2---collect-data-in-a-project",level:2},{value:"Step 2.1 - Create a Project",id:"step-21---create-a-project",level:3},{value:"Step 2.2 - Add a Jira Connection",id:"step-22---add-a-jira-connection",level:3},{value:"Step 2.3 - Set the Sync Policy",id:"step-23---set-the-sync-policy",level:3},{value:"Step 2.4 - Start Data Collection",id:"step-24---start-data-collection",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2}],d={toc:c};function p(e){let{components:t,...o}=e;return(0,n.kt)("wrapper",(0,i.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Visit Config UI at: ",(0,n.kt)("inlineCode",{parentName:"p"},"http://localhost:4000"),"."),(0,n.kt)("h2",{id:"step-1---add-data-connections"},"Step 1 - Add Data Connections"),(0,n.kt)("p",null,"On the Connections page, you can select Jira and create a new connection or it."),(0,n.kt)("h3",{id:"stept-11---authentication"},"Stept 1.1 - Authentication"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"jira-add-data-connections",src:a(89262).Z,width:"2264",height:"1486"})),(0,n.kt)("h4",{id:"connection-name"},"Connection Name"),(0,n.kt)("p",null,"Give your connection a unique name to help you identify it in the future. "),(0,n.kt)("p",null,"Please note: the following configuration for the endpoint and authentication for your Jira connection depends on your Jira version, Jira Cloud or Server/Data Center."),(0,n.kt)("h4",{id:"jira-cloud"},"Jira Cloud"),(0,n.kt)("h5",{id:"endpoint-url"},"Endpoint URL"),(0,n.kt)("p",null,"This should be a valid REST API endpoint: ",(0,n.kt)("inlineCode",{parentName:"p"},"https://<mydomain>.atlassian.net/rest/")),(0,n.kt)("p",null,"Please note: the endpoint url should end with ",(0,n.kt)("inlineCode",{parentName:"p"},"/"),"."),(0,n.kt)("h5",{id:"e-mail"},"E-mail"),(0,n.kt)("p",null,"Please enter the e-mail of your Jira account."),(0,n.kt)("h5",{id:"api-token"},"API Token"),(0,n.kt)("p",null,"Learn about ",(0,n.kt)("a",{parentName:"p",href:"https://support.atlassian.com/atlassian-account/docs/manage-api-tokens-for-your-atlassian-account/"},"how to create an API token"),"."),(0,n.kt)("p",null,"Please note: Jira API token and Personal Access Token are two different tokens."),(0,n.kt)("h4",{id:"jira-serverdata-center"},"Jira Server/Data Center"),(0,n.kt)("h5",{id:"endpoint-url-1"},"Endpoint URL"),(0,n.kt)("p",null,"This should be a valid REST API endpoint: ",(0,n.kt)("inlineCode",{parentName:"p"},"https://jira.<mydomain>.com/rest/")),(0,n.kt)("p",null,"Please note: the endpoint url should end with ",(0,n.kt)("inlineCode",{parentName:"p"},"/"),"."),(0,n.kt)("h5",{id:"authentication-method"},"Authentication Method"),(0,n.kt)("p",null,"Jira Server supports two ways of authentication: using basic authentication or Personal Access Token."),(0,n.kt)("h5",{id:"username"},"Username"),(0,n.kt)("p",null,"Please enter the username of your Jira account."),(0,n.kt)("h5",{id:"password"},"Password"),(0,n.kt)("p",null,"Please enter the password of your Jira account."),(0,n.kt)("h5",{id:"personal-access-token"},"Personal Access Token"),(0,n.kt)("p",null,"Learn about ",(0,n.kt)("a",{parentName:"p",href:"https://confluence.atlassian.com/enterprise/using-personal-access-tokens-1026032365.html"},"how to create a Personal Access Token"),"."),(0,n.kt)("h4",{id:"token-permissions"},"Token Permissions"),(0,n.kt)("p",null,"For both Jira Cloud and Jira Server, when accessing Jira API, users may encounter access restrictions if their token does not have sufficient permissions. This is typically caused by insufficient scope or role settings for the Jira token."),(0,n.kt)("p",null,"To solve this issue, users can take the following steps:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Checking User Permissions")),(0,n.kt)("p",null,'Users can confirm whether they have sufficient permissions by checking their permissions in Jira. For Cloud users, they can view their global and project permissions through the "Permissions" tab on the "Profile" page. For Server users, they can log in to Jira as an administrator and view user permissions on the "User Management" page.'),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Ensuring Sufficient Permissions")),(0,n.kt)("p",null,"Before using the Jira API, users need to ensure that their account has at least the necessary project or global permissions. Global permissions include various Jira system settings and management operations, while project permissions control specific operations and configurations for each Jira project. Users can assign roles such as ",(0,n.kt)("inlineCode",{parentName:"p"},"Project Administrator"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"Project Lead"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"Developer"),", etc. for the corresponding projects, or assign global permissions such as ",(0,n.kt)("inlineCode",{parentName:"p"},"Jira Administrators"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"Jira Software Administrators"),", etc. It is recommended to minimize the permissions granted to the API to ensure system security."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Solving Access Restrictions")),(0,n.kt)("p",null,"To solve access restrictions caused by insufficient Jira token permissions, users should check the token's permission settings to ensure the correct scope and role are set. If the permission settings are correct but the required API is still inaccessible, consider using other authentication methods, such as authenticating with a username and password. If the issue persists, contact the Jira administrator for further assistance."),(0,n.kt)("h4",{id:"proxy-url-optional"},"Proxy URL (Optional)"),(0,n.kt)("p",null,"If you are behind a corporate firewall or VPN you may need to utilize a proxy server. Enter a valid proxy server address on your network, e.g. ",(0,n.kt)("inlineCode",{parentName:"p"},"http://your-proxy-server.com:1080")),(0,n.kt)("h5",{id:"fixed-rate-limit-optional"},"Fixed Rate Limit (Optional)"),(0,n.kt)("p",null,"DevLake uses a dynamic rate limit to collect Jira data. You can adjust the rate limit if you want to increase or lower the speed. If you encounter a 403 error during data collection, please lower the rate limit."),(0,n.kt)("p",null,"Jira(Cloud) uses a dynamic rate limit and has no clear rate limit. For Jira Server's rate limiting, please contact your Jira Server admin to ",(0,n.kt)("a",{parentName:"p",href:"https://repository.prace-ri.eu/git/help/security/rate_limits.md"},"get or set the maximum rate limit")," of your Jira instance. Please do not use a rate that exceeds this number."),(0,n.kt)("h4",{id:"test-and-save-connection"},"Test and Save Connection"),(0,n.kt)("p",null,"Click ",(0,n.kt)("inlineCode",{parentName:"p"},"Test Connection"),", if the connection is successful, click ",(0,n.kt)("inlineCode",{parentName:"p"},"Save Connection")," to add the connection."),(0,n.kt)("h3",{id:"step-12---add-data-scopes"},"Step 1.2 - Add Data Scopes"),(0,n.kt)("h4",{id:"boards"},"Boards"),(0,n.kt)("p",null,"Choose the Jira boards to collect."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"jira-set-data-scope",src:a(80768).Z,width:"1622",height:"992"})),(0,n.kt)("h3",{id:"step-13---add-scope-config-optional"},"Step 1.3 - Add Scope Config (Optional)"),(0,n.kt)("p",null,"Scope config contains two parts: "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The entities of which domain you wish to collect: Usually, you don't have to modify this part. However, if you don't want to collect certain Jira entities, you can unselect some entities to accelerate the collection speed.",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Issue Tracking: Jira issues, issue comments, issue labels, etc."),(0,n.kt)("li",{parentName:"ul"},"Cross Domain: Jira accounts, etc."))),(0,n.kt)("li",{parentName:"ul"},"The transformations on the Jira data you are going to collect",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Issue Type: Standardize the issue types to DevLake's pre-defined three issue types: REQUIREMENT, BUG, and INCIDENT."),(0,n.kt)("li",{parentName:"ul"},"Story Points: Map the custom field that represents story_point in your Jira to DevLake's issue story point."),(0,n.kt)("li",{parentName:"ul"},"Cross-domain: Get the commit(s) associated with Jira issues from Jira issues' remote links or development panels.")))),(0,n.kt)("p",null,"Although this configuration is optional, some of the above transformations are required to measure metrics such as ",(0,n.kt)("a",{parentName:"p",href:"https://devlake.apache.org/docs/Metrics/RequirementLeadTime"},"Requirement Lead Time"),", ",(0,n.kt)("a",{parentName:"p",href:"https://devlake.apache.org/docs/Metrics/BugAge"},"Bug Age")," or ",(0,n.kt)("a",{parentName:"p",href:"https://devlake.apache.org/docs/Metrics/MTTR"},"DORA - Median Time to Restore Service")," in the built-in Grafana dashboards."),(0,n.kt)("p",null,'Without adding transformation rules, you can not view all charts in "Jira" or "Engineering Throughput and Cycle Time" dashboards.',(0,n.kt)("br",null)),(0,n.kt)("p",null,"Each Jira board has at most ONE set of transformations."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"jira-add-transformation-1",src:a(9951).Z,width:"2346",height:"442"}),"\n",(0,n.kt)("img",{alt:"jira-add-transformation-2",src:a(14052).Z,width:"1580",height:"1350"}),"\n",(0,n.kt)("img",{alt:"jira-add-transformation-3",src:a(4414).Z,width:"1628",height:"590"})),(0,n.kt)("h4",{id:"issue-tracking"},"Issue Tracking"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},'Requirement: choose the issue types to be transformed to "REQUIREMENT".'),(0,n.kt)("li",{parentName:"ul"},'Bug: choose the issue types to be transformed to "BUG".'),(0,n.kt)("li",{parentName:"ul"},'Incident: choose the issue types to be transformed to "INCIDENT".'),(0,n.kt)("li",{parentName:"ul"},'Epic Key: choose the custom field that represents Epic key. In most cases, it is "Epic Link".'),(0,n.kt)("li",{parentName:"ul"},'Story Point: choose the custom field that represents story points. In most cases, it is "Story Points".')),(0,n.kt)("h4",{id:"additional-settings"},"Additional Settings"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Remotelink Commit SHA: parse the commits from an issue's remote links by the given regular expression so that the relationship between ",(0,n.kt)("inlineCode",{parentName:"li"},"issues")," and ",(0,n.kt)("inlineCode",{parentName:"li"},"commits")," can be created. You can directly use the regular expression ",(0,n.kt)("inlineCode",{parentName:"li"},"/commit/([0-9a-f]{40})$"),".")),(0,n.kt)("h2",{id:"step-2---collect-data-in-a-project"},"Step 2 - Collect Data in a Project"),(0,n.kt)("h3",{id:"step-21---create-a-project"},"Step 2.1 - Create a Project"),(0,n.kt)("p",null,"Collecing Jira data reuiqres creating a project first. You can visit the Project page from the side menu and create a new project by following the instructions on the user interface."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"create-a-project",src:a(71144).Z,width:"1624",height:"684"})),(0,n.kt)("h3",{id:"step-22---add-a-jira-connection"},"Step 2.2 - Add a Jira Connection"),(0,n.kt)("p",null,"You can add a previously configured Jira connection to the project and select the boards for which you wish to collect the data for.\nPlease note: if you don't see the boards you are looking for, please check if you have added them to the connection first."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"add-a-connection",src:a(68038).Z,width:"2394",height:"624"})),(0,n.kt)("h3",{id:"step-23---set-the-sync-policy"},"Step 2.3 - Set the Sync Policy"),(0,n.kt)("p",null,"There are three settings for Sync Policy:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Data Time Range: You can select the time range of the data you wish to collect. The default is set to the past six months."),(0,n.kt)("li",{parentName:"ul"},"Sync Frequency: You can choose how often you would like to sync your data in this step by selecting a sync frequency option or enter a cron code to specify your prefered schedule."),(0,n.kt)("li",{parentName:"ul"},"Skip Failed Tasks: sometime a few tasks may fail in a long pipeline; you can choose to skip them to avoid spending more time in running the pipeline all over again.")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"sync-policy",src:a(89793).Z,width:"2428",height:"336"})),(0,n.kt)("h3",{id:"step-24---start-data-collection"},"Step 2.4 - Start Data Collection"),(0,n.kt)("p",null,'Click on "Collect Data" to start collecting data for the whole project. You can check the status in the Status tab on the same page.\n',(0,n.kt)("img",{alt:"collect-data",src:a(31500).Z,width:"2410",height:"664"})),(0,n.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,n.kt)("p",null,"If you run into any problem, please check the ",(0,n.kt)("a",{parentName:"p",href:"/zh/docs/v0.19/Troubleshooting/Configuration"},"Troubleshooting")," or ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/apache/incubator-devlake/issues"},"create an issue")))}p.isMDXComponent=!0},68038:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/add-a-connection-project-4032e8e9a72cb4a6df81b6ced714205e.png"},31500:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/collect-data-5919e2e6ddad525bca4fbcb46e672aff.png"},71144:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/create-a-project-20e220196044bbf9be564773c45c5990.png"},80768:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/jira-add-data-scopes-25706691feac40ea43438d4d7deda4da.png"},89262:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/jira-create-a-connection-3f933bb21ec56a7d065f9d855d7aa43b.png"},9951:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/jira-set-transformation1-c7ff3516ebdca4b869d620902f24943d.png"},14052:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/jira-set-transformation2-61ac18bf07c7b6a1fafa45a64bd07d47.png"},4414:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/jira-set-transformation3-6ca1ddad5d756a3fc415171c690f316d.png"},89793:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/sync-policy-2ac941b2918fc873626375dfe4cbf5f5.png"}}]);