<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-v0.15 plugin-docs plugin-id-default docs-doc-id-DataModels/DevLakeDomainLayerSchema">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="Apache DevLake - Open-Source Dev Data Platform for Productivity RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="Apache DevLake - Open-Source Dev Data Platform for Productivity Atom Feed"><title data-rh="true">Domain Layer Schema | Apache DevLake - Open-Source Dev Data Platform for Productivity</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://devlake.apache.org/zh/docs/v0.15/DataModels/DevLakeDomainLayerSchema"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="keywords" content="Engineering Productivity, Open-Source Engineering, Open-Source Integration Tools, Data Integrates Platform, Open-Source Dev Platform, Open-Source Data Integrates, DevOps Tools Integrates, Open-Source DevOps Tools"><meta data-rh="true" name="docusaurus_version" content="v0.15"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v0.15"><meta data-rh="true" name="docsearch:version" content="v0.15"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v0.15"><meta data-rh="true" property="og:title" content="Domain Layer Schema | Apache DevLake - Open-Source Dev Data Platform for Productivity"><meta data-rh="true" name="description" content="The data tables to query engineering metrics
"><meta data-rh="true" property="og:description" content="The data tables to query engineering metrics
"><link data-rh="true" rel="icon" href="/zh/img/logo.svg"><link data-rh="true" rel="canonical" href="https://devlake.apache.org/zh/docs/v0.15/DataModels/DevLakeDomainLayerSchema"><link data-rh="true" rel="alternate" href="https://devlake.apache.org/docs/v0.15/DataModels/DevLakeDomainLayerSchema" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://devlake.apache.org/zh/docs/v0.15/DataModels/DevLakeDomainLayerSchema" hreflang="zh"><link data-rh="true" rel="alternate" href="https://devlake.apache.org/docs/v0.15/DataModels/DevLakeDomainLayerSchema" hreflang="x-default"><link rel="stylesheet" href="/zh/assets/css/styles.ddc6bf33.css">
<link rel="preload" href="/zh/assets/js/runtime~main.7a39770e.js" as="script">
<link rel="preload" href="/zh/assets/js/main.47440dc7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/img/logo.svg" alt="apache devlake" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh/img/logo.svg" alt="apache devlake" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Apache DevLake</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh/docs/Overview/Introduction">Next</a></li><li><a class="dropdown__link" href="/zh/docs/v1.0/Overview/Introduction">v1.0 (Stable)</a></li><li><a class="dropdown__link" href="/zh/docs/v0.21/Overview/Introduction">v0.21</a></li><li><a class="dropdown__link" href="/zh/docs/v0.20/Overview/Introduction">v0.20</a></li><li><a class="dropdown__link" href="/zh/docs/v0.19/Overview/Introduction">v0.19</a></li><li><a class="dropdown__link" href="/zh/docs/v0.18/Overview/Introduction">v0.18</a></li><li><a class="dropdown__link" href="/zh/docs/v0.17/Overview/Introduction">v0.17</a></li><li><a class="dropdown__link" href="/zh/docs/v0.16/Overview/Introduction">v0.16</a></li><li><a class="dropdown__link" href="/zh/docs/v0.15/Overview/Introduction">v0.15</a></li></ul></div><a class="navbar__item navbar__link" href="/zh/livedemo/EngineeringLeads/DORA">Use Cases</a><a class="navbar__item navbar__link" href="/zh/community/">Community</a><a class="navbar__item navbar__link" href="/zh/team">Team</a><a class="navbar__item navbar__link" href="/zh/blogOverview">Blog</a><a href="https://github.com/apache/incubator-devlake" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a class="navbar__item navbar__link" href="/zh/download">Download</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ASF</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation</a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License</a></li><li><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events</a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy</a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship</a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/docs/v0.15/Overview">Overview</a><button aria-label="打开/收起侧边栏菜单「Overview」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/docs/v0.15/GettingStarted">Getting Started</a><button aria-label="打开/收起侧边栏菜单「Getting Started」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/docs/v0.15/UserManuals">User Manuals</a><button aria-label="打开/收起侧边栏菜单「User Manuals」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/docs/v0.15/Metrics">Metrics</a><button aria-label="打开/收起侧边栏菜单「Metrics」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/zh/docs/v0.15/DataModels">Data Models</a><button aria-label="打开/收起侧边栏菜单「Data Models」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/docs/v0.15/DataModels/DevLakeDomainLayerSchema">Domain Layer Schema</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/v0.15/DataModels/ToolLayerSchema">Tool Layer Schema</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/v0.15/DataModels/RawLayerSchema">Raw Layer Schema</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/v0.15/DataModels/SystemTables">System Tables</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/docs/v0.15/DeveloperManuals">Developer Manuals</a><button aria-label="打开/收起侧边栏菜单「Developer Manuals」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/docs/v0.15/Plugins">Plugins</a><button aria-label="打开/收起侧边栏菜单「Plugins」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/docs/v0.15/Troubleshooting">Troubleshooting</a><button aria-label="打开/收起侧边栏菜单「Troubleshooting」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh/docs/v0.15/DataModels"><span itemprop="name">Data Models</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Domain Layer Schema</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：v0.15</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Domain Layer Schema</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a class="hash-link" href="#summary" title="标题的直接链接">​</a></h2><p>This document describes Apache DevLake&#x27;s domain layer schema.</p><p>Referring to DevLake&#x27;s <a href="/zh/docs/v0.15/Overview/Architecture">architecture</a>, the data in the domain layer is transformed from the data in the tool layer. The tool layer schema is based on the data from specific tools such as Jira, GitHub, Gitlab, Jenkins, etc. The domain layer schema can be regarded as an abstraction of tool-layer schemas.</p><p align="center"><img loading="lazy" src="/img/Architecture/arch-dataflow.svg" class="img_ev3q"></p><p align="center">DevLake Dataflow</p><p>Domain layer schema itself includes 2 logical layers: a <code>DWD</code> layer and a <code>DWM</code> layer. The DWD layer stores the detailed data points, while the DWM is the slight aggregation and operation of DWD to store more organized details or middle-level metrics.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use Cases<a class="hash-link" href="#use-cases" title="标题的直接链接">​</a></h2><ol><li><a href="/zh/docs/v0.15/Metrics">All metrics</a> from pre-built dashboards are based on this data schema.</li><li>As a user, you can create your own customized dashboards based on this data schema.</li><li>As a contributor, you can refer to this data schema while working on the ETL logic when adding/updating data source plugins.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-models">Data Models<a class="hash-link" href="#data-models" title="标题的直接链接">​</a></h2><p>This is the up-to-date domain layer schema for DevLake v0.10.x. Tables (entities) are categorized into 5 domains.</p><ol><li>Issue tracking domain entities: Jira issues, GitHub issues, GitLab issues, etc.</li><li>Source code management domain entities: Git/GitHub/Gitlab commits and refs(tags and branches), etc.</li><li>Code review domain entities: GitHub PRs, Gitlab MRs, etc.</li><li>CI/CD domain entities: Jenkins jobs &amp; builds, etc.</li><li>Cross-domain entities: entities that map entities from different domains to break data isolation.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema-diagram">Schema Diagram<a class="hash-link" href="#schema-diagram" title="标题的直接链接">​</a></h3><p><a target="_blank" href="/zh/assets/files/schema-diagram-v0.15-4541d58ee1acaa220cd0e94628e5aefa.svg"><img loading="lazy" alt="Domain Layer Schema" src="/zh/assets/images/schema-diagram-v0.15-4541d58ee1acaa220cd0e94628e5aefa.svg" width="4720" height="4515" class="img_ev3q"></a></p><p>When reading the schema, you&#x27;ll notice that many tables&#x27; primary key is called <code>id</code>. Unlike auto-increment id or UUID, <code>id</code> is a string composed of several parts to uniquely identify similar entities (e.g. repo) from different platforms (e.g. Github/Gitlab) and allow them to co-exist in a single table.</p><p>Tables that end with WIP are still under development.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="naming-conventions">Naming Conventions<a class="hash-link" href="#naming-conventions" title="标题的直接链接">​</a></h3><ol><li>The name of a table is in plural form. Eg. boards, issues, etc.</li><li>The name of a table which describe the relation between 2 entities is in the form of <!-- -->[BigEntity in singular form]<!-- -->_<!-- -->[SmallEntity in plural form]<!-- -->. Eg. board_issues, sprint_issues, pull_request_comments, etc.</li><li>Value of the field in enum type are in capital letters. Eg. <a href="#issues">table.issues.type</a> has 3 values, REQUIREMENT, BUG, INCIDENT. Values that are phrases, such as &#x27;IN_PROGRESS&#x27; of <a href="#issues">table.issues.status</a>, are separated with underscore &#x27;<!-- -->_<!-- -->&#x27;.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-customize-data-models">How to Customize Data Models<a class="hash-link" href="#how-to-customize-data-models" title="标题的直接链接">​</a></h2><p>Apache DevLake provides 2 plugins:</p><ul><li><a href="https://devlake.apache.org/docs/Plugins/customize" target="_blank" rel="noopener noreferrer">customize</a>: to create/delete columns in the domain layer schema with the data extracted from <a href="https://devlake.apache.org/docs/Overview/Architecture/#dataflow" target="_blank" rel="noopener noreferrer">raw layer tables</a></li><li><a href="https://devlake.apache.org/docs/Plugins/customize" target="_blank" rel="noopener noreferrer">dbt</a>: to transform data based on the domain layer schema and generate new tables</li></ul><br><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dwd-entities---data-warehouse-detail">DWD Entities - (Data Warehouse Detail)<a class="hash-link" href="#dwd-entities---data-warehouse-detail" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="domain-1---issue-tracking">Domain 1 - Issue Tracking<a class="hash-link" href="#domain-1---issue-tracking" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="issues">issues<a class="hash-link" href="#issues" title="标题的直接链接">​</a></h4><p>An <code>issue</code> is the abstraction of Jira/Github/GitLab/TAPD/... issues.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">An issue&#x27;s <code>id</code> is composed of &lt; plugin &gt;:&lt; Entity &gt;:&lt; PK0 &gt;<!-- -->[:PK1]<!-- -->...&quot; <ul><li>For Github issues, a Github issue&#x27;s id is like &quot;github:GithubIssues:&lt; GithubIssueId &gt;&quot;. Eg. &#x27;github:GithubIssues:1049355647&#x27;</li> <li>For Jira issues, a Github repo&#x27;s id is like &quot;jira:JiraIssues:&lt; JiraSourceId &gt;:&lt; JiraIssueId &gt;&quot;. Eg. &#x27;jira:JiraIssues:1:10063&#x27;. &lt; JiraSourceId &gt; is used to identify which jira source the issue came from, since DevLake users can import data from several different Jira instances at the same time.</li></ul></td><td align="left">PK</td></tr><tr><td align="left"><code>issue_key</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The key of this issue. For example, the key of this Github <a href="https://github.com/apache/incubator-devlake/issues/1145" target="_blank" rel="noopener noreferrer">issue</a> is 1145.</td><td align="left"></td></tr><tr><td align="left"><code>url</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The url of the issue. It&#x27;s a web address in most cases.</td><td align="left"></td></tr><tr><td align="left"><code>title</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The title of an issue</td><td align="left"></td></tr><tr><td align="left"><code>description</code></td><td align="left">longtext</td><td align="left"></td><td align="left">The detailed description/summary of an issue</td><td align="left"></td></tr><tr><td align="left"><code>type</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The standard type of this issue. There&#x27;re 3 standard types: <ul><li>REQUIREMENT: this issue is a feature</li><li>BUG: this issue is a bug found during test</li><li>INCIDENT: this issue is a bug found after release</li></ul>The 3 standard types are transformed from the original types of an issue. The transformation rule is set in the &#x27;.env&#x27; file or &#x27;config-ui&#x27; before data collection. For issues with an original type that has not mapped to a standard type, the value of <code>type</code> will be the issue&#x27;s original type.</td><td align="left"></td></tr><tr><td align="left"><code>original_type</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The original type of an issue.</td><td align="left"></td></tr><tr><td align="left"><code>status</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The standard statuses of this issue. There&#x27;re 3 standard statuses: <ul><li> TODO: this issue is in backlog or to-do list</li><li>IN_PROGRESS: this issue is in progress</li><li>DONE: this issue is resolved or closed</li></ul>The 3 standard statuses are transformed from the original statuses of an issue. The transformation rule: <ul><li>For Jira issue status: transformed from the Jira issue&#x27;s <code>statusCategory</code>. Jira issue has 3 default status categories: &#x27;To Do&#x27;, &#x27;In Progress&#x27;, &#x27;Done&#x27;.</li><li>For Github issue status: <ul><li>open -&gt; TODO</li><li>closed -&gt; DONE</li></ul></li></ul></td><td align="left"></td></tr><tr><td align="left"><code>original_status</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The original status of an issue.</td><td align="left"></td></tr><tr><td align="left"><code>story_point</code></td><td align="left">int</td><td align="left"></td><td align="left">The story point of this issue. It&#x27;s default to an empty string for data sources such as Github issues and Gitlab issues.</td><td align="left"></td></tr><tr><td align="left"><code>priority</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The priority of the issue</td><td align="left"></td></tr><tr><td align="left"><code>component</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The component a bug-issue affects. This field only supports Github plugin for now. The value is transformed from Github issue labels by the rules set according to the user&#x27;s configuration of .env by end users during DevLake installation.</td><td align="left"></td></tr><tr><td align="left"><code>severity</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The severity level of a bug-issue. This field only supports Github plugin for now. The value is transformed from Github issue labels by the rules set according to the user&#x27;s configuration of .env by end users during DevLake installation.</td><td align="left"></td></tr><tr><td align="left"><code>parent_issue_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of its parent issue</td><td align="left"></td></tr><tr><td align="left"><code>epic_key</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The key of the epic this issue belongs to. For tools with no epic-type issues such as Github and Gitlab, this field is default to an empty string</td><td align="left"></td></tr><tr><td align="left"><code>original_estimate_minutes</code></td><td align="left">int</td><td align="left"></td><td align="left">The original estimation of the time allocated for this issue</td><td align="left"></td></tr><tr><td align="left"><code>time_spent_minutes</code></td><td align="left">int</td><td align="left"></td><td align="left">The original estimation of the time allocated for this issue</td><td align="left"></td></tr><tr><td align="left"><code>time_remaining_minutes</code></td><td align="left">int</td><td align="left"></td><td align="left">The remaining time to resolve the issue</td><td align="left"></td></tr><tr><td align="left"><code>creator_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of issue creator</td><td align="left"></td></tr><tr><td align="left"><code>creator_name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The name of the creator</td><td align="left"></td></tr><tr><td align="left"><code>assignee_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of issue assignee.<ul><li>For Github issues: this is the last assignee of an issue if the issue has multiple assignees</li><li>For Jira issues: this is the assignee of the issue at the time of collection</li></ul></td><td align="left"></td></tr><tr><td align="left"><code>assignee_name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The name of the assignee</td><td align="left"></td></tr><tr><td align="left"><code>created_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The time issue created</td><td align="left"></td></tr><tr><td align="left"><code>updated_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The last time issue gets updated</td><td align="left"></td></tr><tr><td align="left"><code>resolution_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The time the issue changes to &#x27;DONE&#x27;.</td><td align="left"></td></tr><tr><td align="left"><code>lead_time_minutes</code></td><td align="left">int</td><td align="left"></td><td align="left">Describes the cycle time from issue creation to issue resolution.<ul><li>For issues whose type = &#x27;REQUIREMENT&#x27; and status = &#x27;DONE&#x27;, lead_time_minutes = resolution_date - created_date. The unit is minute.</li><li>For issues whose type != &#x27;REQUIREMENT&#x27; or status != &#x27;DONE&#x27;, lead_time_minutes is null</li></ul></td><td align="left"></td></tr><tr><td align="left"><code>original_project</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The name of the original project. Transformed from a Jira project&#x27;s name, a TAPD workspace&#x27;s name, etc.</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="issue_labels">issue_labels<a class="hash-link" href="#issue_labels" title="标题的直接链接">​</a></h4><p>This table shows the labels of issues. Multiple entries can exist per issue. This table can be used to filter issues by label name.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>label_name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Label name</td><td align="left"></td></tr><tr><td align="left"><code>issue_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Issue ID</td><td align="left">FK_issues.id</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="issue_commentswip">issue_comments(WIP)<a class="hash-link" href="#issue_commentswip" title="标题的直接链接">​</a></h4><p>This table shows the comments of issues. Issues with multiple comments are shown as multiple records. This table can be used to calculate <em>metric - issue response time</em>.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The unique id of a comment</td><td align="left">PK</td></tr><tr><td align="left"><code>issue_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Issue ID</td><td align="left">FK_issues.id</td></tr><tr><td align="left"><code>account_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of the account who made the comment</td><td align="left">FK_accounts.id</td></tr><tr><td align="left"><code>body</code></td><td align="left">longtext</td><td align="left"></td><td align="left">The body/detail of the comment</td><td align="left"></td></tr><tr><td align="left"><code>created_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The creation date of the comment</td><td align="left"></td></tr><tr><td align="left"><code>updated_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The last time comment gets updated</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="issue_changelogs">issue_changelogs<a class="hash-link" href="#issue_changelogs" title="标题的直接链接">​</a></h4><p>This table shows the changelogs of issues. Issues with multiple changelogs are shown as multiple records. This is transformed from Jira or TAPD changelogs.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The unique id of an issue changelog</td><td align="left">PK</td></tr><tr><td align="left"><code>issue_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Issue ID</td><td align="left">FK_issues.id</td></tr><tr><td align="left"><code>author_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of the user who made the change</td><td align="left">FK_accounts.id</td></tr><tr><td align="left"><code>author_name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of the user who made the change</td><td align="left">FK_accounts.id</td></tr><tr><td align="left"><code>field_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of changed field</td><td align="left"></td></tr><tr><td align="left"><code>field_name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of changed field</td><td align="left"></td></tr><tr><td align="left"><code>original_from_value</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The original value of the changed field</td><td align="left"></td></tr><tr><td align="left"><code>original_to_value</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The new value of the changed field</td><td align="left"></td></tr><tr><td align="left"><code>from_value</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The transformed/standardized original value of the changed field</td><td align="left"></td></tr><tr><td align="left"><code>to_value</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The transformed/standardized new value of the changed field</td><td align="left"></td></tr><tr><td align="left"><code>created_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The creation date of the changelog</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="issue_worklogs">issue_worklogs<a class="hash-link" href="#issue_worklogs" title="标题的直接链接">​</a></h4><p>This table shows the work logged under issues. Usually, an issue has multiple worklogs logged by different developers.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of the worklog</td><td align="left">PK</td></tr><tr><td align="left"><code>author_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of the author who logged the work</td><td align="left">FK_accounts.id</td></tr><tr><td align="left"><code>comment</code></td><td align="left">longtext</td><td align="left">255</td><td align="left">The comment made while logging the work.</td><td align="left"></td></tr><tr><td align="left"><code>time_spent_minutes</code></td><td align="left">int</td><td align="left"></td><td align="left">The time logged. The unit of value is normalized to minute. Eg. 1d =) 480, 4h30m =) 270</td><td align="left"></td></tr><tr><td align="left"><code>logged_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The time of this logging action</td><td align="left"></td></tr><tr><td align="left"><code>started_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">Start time of the worklog</td><td align="left"></td></tr><tr><td align="left"><code>issue_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Issue ID</td><td align="left">FK_issues.id</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="boards">boards<a class="hash-link" href="#boards" title="标题的直接链接">​</a></h4><p>A <code>board</code> is an issue list or a collection of issues. It&#x27;s the abstraction of a Jira board, a Jira project, a <a href="https://github.com/apache/incubator-devlake/issues" target="_blank" rel="noopener noreferrer">GitHub issue list</a> or a GitLab issue list. This table can be used to filter issues by the boards they belong to.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">A board&#x27;s <code>id</code> is composed of &quot;&lt; plugin &gt;:&lt; Entity &gt;:&lt; PK0 &gt;<!-- -->[:PK1]<!-- -->...&quot; <ul><li>For a Github repo&#x27;s issue list, the board id is like &quot;&lt; github &gt;:&lt; GithubRepos &gt;:&lt; ConnectionId &gt;:&lt; GithubRepoId &gt;&quot;. Eg. &quot;github:GithubRepo:384111310&quot;</li> <li>For a Jira Board, the id is like the board id is like &quot;&lt; jira &gt;:&lt; JiraSourceId &gt;&lt; JiraBoards &gt;:&lt; ConnectionId &gt;:&lt; JiraBoardsId &gt;&quot;. Eg. &quot;jira:1:JiraBoards:1:12&quot;</li></ul></td><td align="left">PK</td></tr><tr><td align="left"><code>name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The name of the board. Note: the board name of a Github project &#x27;apache/incubator-devlake&#x27; is &#x27;apache/incubator-devlake&#x27;, representing the <a href="https://github.com/apache/incubator-devlake/issues" target="_blank" rel="noopener noreferrer">default issue list</a>.</td><td align="left"></td></tr><tr><td align="left"><code>description</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The description of the board.</td><td align="left"></td></tr><tr><td align="left"><code>url</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The url of the board. Eg. <a href="https://github.com/apache/incubator-devlake" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-devlake</a></td><td align="left"></td></tr><tr><td align="left"><code>created_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">Board creation time</td><td align="left"></td></tr><tr><td align="left"><code>type</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Identify scrum and non-scrum board</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="board_issues">board_issues<a class="hash-link" href="#board_issues" title="标题的直接链接">​</a></h4><p>This table shows the relation between boards and issues. This table can be used to filter issues by board.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>board_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Board id</td><td align="left">FK_boards.id</td></tr><tr><td align="left"><code>issue_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Issue id</td><td align="left">FK_issues.id</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sprints">sprints<a class="hash-link" href="#sprints" title="标题的直接链接">​</a></h4><p>A <code>sprint</code> is the abstraction of Jira sprints, TAPD iterations and GitHub milestones. A sprint contains a list of issues.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">A sprint&#x27;s <code>id</code> is composed of &quot;&lt; plugin &gt;:&lt; Entity &gt;:&lt; PK0 &gt;<!-- -->[:PK1]<!-- -->...&quot;<ul><li>A sprint in a Github repo is a milestone, the sprint id is like &quot;&lt; github &gt;:&lt; GithubRepos &gt;:&lt; GithubRepoId &gt;:&lt; milestoneNumber &gt;&quot;.<br>Eg. The id for this <a href="https://github.com/apache/incubator-devlake/milestone/5" target="_blank" rel="noopener noreferrer">sprint</a> is &quot;github:GithubRepo:384111310:5&quot;</li><li>For a Jira Board, the id is like &quot;&lt; jira &gt;:&lt; JiraSourceId &gt;&lt; JiraBoards &gt;:&lt; JiraBoardsId &gt;&quot;.<br>Eg. &quot;jira:1:JiraBoards:12&quot;</li></ul></td><td align="left">PK</td></tr><tr><td align="left"><code>name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The name of sprint.<br>For Github projects, the sprint name is the milestone name. For instance, &#x27;v0.10.0 - Introduce Temporal to DevLake&#x27; is the name of this <a href="https://github.com/apache/incubator-devlake/milestone/5" target="_blank" rel="noopener noreferrer">sprint</a>.</td><td align="left"></td></tr><tr><td align="left"><code>url</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The url of sprint.</td><td align="left"></td></tr><tr><td align="left"><code>status</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">There&#x27;re 3 statuses of a sprint:<ul><li>CLOSED: a completed sprint</li><li>ACTIVE: a sprint started but not completed</li><li>FUTURE: a sprint that has not started</li></ul></td><td align="left"></td></tr><tr><td align="left"><code>started_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The start time of a sprint</td><td align="left"></td></tr><tr><td align="left"><code>ended_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The planned/estimated end time of a sprint. It&#x27;s usually set when planning a sprint.</td><td align="left"></td></tr><tr><td align="left"><code>completed_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The actual time to complete a sprint.</td><td align="left"></td></tr><tr><td align="left"><code>original_board_id</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The id of board where the sprint first created. This field is not null only when this entity is transformed from Jira sprints.<br>In Jira, sprint and board entities have 2 types of relation:<ul><li>A sprint is created based on a specific board. In this case, board(1):(n)sprint. The <code>original_board_id</code> is used to show the relation.</li><li>A sprint can be mapped to multiple boards, a board can also show multiple sprints. In this case, board(n):(n)sprint. This relation is shown in <a href="#board_sprints">table.board_sprints</a></li></ul></td><td align="left">FK_boards.id</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sprint_issues">sprint_issues<a class="hash-link" href="#sprint_issues" title="标题的直接链接">​</a></h4><p>This table shows the relation between sprints and issues that have been added to sprints. This table can be used to show metrics such as <em>&#x27;ratio of unplanned issues&#x27;</em>, <em>&#x27;completion rate of sprint issues&#x27;</em>, etc</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>sprint_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Sprint id</td><td align="left">FK_sprints.id</td></tr><tr><td align="left"><code>issue_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Issue id</td><td align="left">FK_issues.id</td></tr><tr><td align="left"><code>is_removed</code></td><td align="left">bool</td><td align="left"></td><td align="left">If the issue is removed from this sprint, then TRUE; else FALSE</td><td align="left"></td></tr><tr><td align="left"><code>added_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The time this issue added to the sprint. If an issue is added to a sprint multiple times, the latest time will be the value.</td><td align="left"></td></tr><tr><td align="left"><code>removed_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The time this issue gets removed from the sprint. If an issue is removed multiple times, the latest time will be the value.</td><td align="left"></td></tr><tr><td align="left"><code>added_stage</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The stage when issue is added to this sprint. There&#x27;re 3 possible values:<ul><li>BEFORE_SPRINT<br>Planning before sprint starts.<br> Condition: sprint_issues.added_date &lt;= sprints.start_date</li><li>DURING_SPRINT Planning during a sprint.<br>Condition: sprints.start_date &lt; sprint_issues.added_date &lt;= sprints.end_date</li><li>AFTER_SPRINT<br>Planing after a sprint. This is caused by improper operation - adding issues to a completed sprint.<br>Condition: sprint_issues.added_date ) sprints.end_date</li></ul></td><td align="left"></td></tr><tr><td align="left"><code>resolved_stage</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The stage when an issue is resolved (issue status turns to &#x27;DONE&#x27;). There&#x27;re 3 possible values:<ul><li>BEFORE_SPRINT<br>Condition: issues.resolution_date &lt;= sprints.start_date</li><li>DURING_SPRINT<br>Condition: sprints.start_date &lt; issues.resolution_date &lt;= sprints.end_date</li><li>AFTER_SPRINT<br>Condition: issues.resolution_date ) sprints.end_date</li></ul></td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="board_sprints">board_sprints<a class="hash-link" href="#board_sprints" title="标题的直接链接">​</a></h4><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>board_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Board id</td><td align="left">FK_boards.id</td></tr><tr><td align="left"><code>sprint_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Sprint id</td><td align="left">FK_sprints.id</td></tr></tbody></table><br><h3 class="anchor anchorWithStickyNavbar_LWe7" id="domain-2---source-code-management">Domain 2 - Source Code Management<a class="hash-link" href="#domain-2---source-code-management" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="repos">repos<a class="hash-link" href="#repos" title="标题的直接链接">​</a></h4><p>Information about GitHub or Gitlab repositories. A repository is always owned by a user.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">A repo&#x27;s <code>id</code> is composed of &quot;&lt; plugin &gt;:&lt; Entity &gt;:&lt; PK0 &gt;<!-- -->[:PK1]<!-- -->...&quot;<br>For example, a Github repo&#x27;s id is like &quot;&lt; github &gt;:&lt; GithubRepos &gt;:&lt; ConnectionId &gt;:&lt; GithubRepoId &gt;&quot;. Eg. &#x27;github:GithubRepos:1:384111310&#x27;</td><td align="left">PK</td></tr><tr><td align="left"><code>name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The name of repo.</td><td align="left"></td></tr><tr><td align="left"><code>description</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The description of repo.</td><td align="left"></td></tr><tr><td align="left"><code>url</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The url of repo. Eg. <a href="https://github.com/apache/incubator-devlake" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-devlake</a></td><td align="left"></td></tr><tr><td align="left"><code>owner_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of the owner of repo</td><td align="left">FK_accounts.id</td></tr><tr><td align="left"><code>language</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The major language of repo. Eg. The language for apache/incubator-devlake is &#x27;Go&#x27;</td><td align="left"></td></tr><tr><td align="left"><code>forked_from</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Empty unless the repo is a fork in which case it contains the <code>id</code> of the repo the repo is forked from.</td><td align="left"></td></tr><tr><td align="left"><code>deleted</code></td><td align="left">tinyint</td><td align="left">255</td><td align="left">0: repo is active 1: repo has been deleted</td><td align="left"></td></tr><tr><td align="left"><code>created_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">Repo creation date</td><td align="left"></td></tr><tr><td align="left"><code>updated_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">Last full update was done for this repo</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="repo_languageswip">repo_languages(WIP)<a class="hash-link" href="#repo_languageswip" title="标题的直接链接">​</a></h4><p>Languages that are used in the repository along with byte counts for all files in those languages. This is in line with how GitHub calculates language percentages in a repository. Multiple entries can exist per repo.</p><p>The table is filled in when the repo has been first inserted on when an update round for all repos is made.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">A repo&#x27;s <code>id</code> is composed of &quot;&lt; plugin &gt;:&lt; Entity &gt;:&lt; PK0 &gt;<!-- -->[:PK1]<!-- -->...&quot;<br>For example, a Github repo&#x27;s id is like &quot;&lt; github &gt;:&lt; GithubRepos &gt;&lt; GithubRepoId &gt;&quot;. Eg. &#x27;github:GithubRepos:384111310&#x27;</td><td align="left">PK</td></tr><tr><td align="left"><code>language</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The language of repo.<br>These are the <a href="https://api.github.com/repos/apache/incubator-devlake/languages" target="_blank" rel="noopener noreferrer">languages</a> for apache/incubator-devlake</td><td align="left"></td></tr><tr><td align="left"><code>bytes</code></td><td align="left">int</td><td align="left"></td><td align="left">The byte counts for all files in those languages</td><td align="left"></td></tr><tr><td align="left"><code>created_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The field is filled in with the latest timestamp the query for a specific <code>repo_id</code> was done.</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="repo_commits">repo_commits<a class="hash-link" href="#repo_commits" title="标题的直接链接">​</a></h4><p>The commits belong to the history of a repository. More than one repos can share the same commits if one is a fork of the other.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>repo_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Repo id</td><td align="left">FK_repos.id</td></tr><tr><td align="left"><code>commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">Commit sha</td><td align="left">FK_commits.sha</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="refs">refs<a class="hash-link" href="#refs" title="标题的直接链接">​</a></h4><p>A ref is the abstraction of a branch or tag.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">A ref&#x27;s <code>id</code> is composed of &quot;&lt; plugin &gt;:&lt; Entity &gt;:&lt; PK0 &gt;<!-- -->[:PK1]<!-- -->...&quot;<br>For example, a Github ref is composed of &quot;github:GithubRepos:&lt; GithubRepoId &gt;:&lt; RefUrl &gt;&quot;. Eg. The id of release v5.3.0 of PingCAP/TiDB project is &#x27;github:GithubRepos:384111310:refs/tags/v5.3.0&#x27; A repo&#x27;s <code>id</code> is composed of &quot;&lt; plugin &gt;:&lt; Entity &gt;:&lt; PK0 &gt;<!-- -->[:PK1]<!-- -->...&quot;</td><td align="left">PK</td></tr><tr><td align="left"><code>ref_name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The name of ref. Eg. &#x27;<a href="https://github.com/apache/incubator-devlake/tree/v0.9.3" target="_blank" rel="noopener noreferrer">refs/tags/v0.9.3</a>&#x27;</td><td align="left"></td></tr><tr><td align="left"><code>repo_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of repo this ref belongs to</td><td align="left">FK_repos.id</td></tr><tr><td align="left"><code>commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">The commit this ref points to at the time of collection</td><td align="left"></td></tr><tr><td align="left"><code>is_default</code></td><td align="left">tinyint</td><td align="left">1</td><td align="left"><ul><li>0: not the default branch</li><li>1: the ref is the default branch. By the definition of <a href="https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-branches-in-your-repository/changing-the-default-branch" target="_blank" rel="noopener noreferrer">Github</a>, the default branch is the base branch for pull requests and code commits.</li></ul></td><td align="left"></td></tr><tr><td align="left"><code>merge_base</code></td><td align="left">char</td><td align="left">40</td><td align="left">The merge base commit of the main ref and the current ref</td><td align="left"></td></tr><tr><td align="left"><code>ref_type</code></td><td align="left">varchar</td><td align="left">64</td><td align="left">There&#x27;re 2 typical types:<ul><li>BRANCH</li><li>TAG</li></ul></td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="commits_diffs">commits_diffs<a class="hash-link" href="#commits_diffs" title="标题的直接链接">​</a></h4><p>This table shows the commits added in a new commit compared to an old commit. This table can be used to support tag-based and deploy-based metrics.</p><p>The records of this table are computed by <a href="https://github.com/apache/incubator-devlake/tree/main/backend/plugins/refdiff" target="_blank" rel="noopener noreferrer">RefDiff</a> plugin. The computation should be manually triggered after using <a href="https://github.com/apache/incubator-devlake/tree/main/backend/plugins/gitextractor" target="_blank" rel="noopener noreferrer">GitRepoExtractor</a> to collect commits and refs. The algorithm behind is similar to <a href="https://github.com/apache/incubator-devlake/compare/v0.8.0%E2%80%A6v0.9.0" target="_blank" rel="noopener noreferrer">this</a>.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>new_commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">The commit new ref/deployment points to at the time of collection</td><td align="left">PK</td></tr><tr><td align="left"><code>old_commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">The commit old ref/deployment points to at the time of collection</td><td align="left">PK</td></tr><tr><td align="left"><code>commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">One of the added commits in the new ref compared to the old ref/deployment</td><td align="left">PK</td></tr><tr><td align="left"><code>sorting_index</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">An index for debugging, please skip it</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="finished_commits_diffs">finished_commits_diffs<a class="hash-link" href="#finished_commits_diffs" title="标题的直接链接">​</a></h4><p>This table shows the commits_diffs <code>new_commit_sha</code> and <code>old_commit_sha</code> pairs which are calculated successfully.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>new_commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">The new commit new ref/deployment points to at the time of collection</td><td align="left">PK</td></tr><tr><td align="left"><code>old_commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">The commit old ref/deployment points to at the time of collection</td><td align="left">PK</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ref_commits">ref_commits<a class="hash-link" href="#ref_commits" title="标题的直接链接">​</a></h4><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>new_ref_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The new ref&#x27;s id for comparison</td><td align="left">PK</td></tr><tr><td align="left"><code>old_ref_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The old ref&#x27;s id for comparison</td><td align="left">PK</td></tr><tr><td align="left"><code>new_commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">The commit new ref points to at the time of collection</td><td align="left"></td></tr><tr><td align="left"><code>old_commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">The commit old ref points to at the time of collection</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="commits">commits<a class="hash-link" href="#commits" title="标题的直接链接">​</a></h4><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">One of the added commits in the new ref compared to the old ref</td><td align="left">FK_commits.sha</td></tr><tr><td align="left"><code>message</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Commit message</td><td align="left"></td></tr><tr><td align="left"><code>author_name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The value is set with command <code>git config user.name xxxxx</code> commit</td><td align="left"></td></tr><tr><td align="left"><code>author_email</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The value is set with command <code>git config user.email xxxxx</code> author</td><td align="left"></td></tr><tr><td align="left"><code>authored_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The date when this commit was originally made</td><td align="left"></td></tr><tr><td align="left"><code>author_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of commit author</td><td align="left">FK_accounts.id</td></tr><tr><td align="left"><code>committer_name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The name of committer</td><td align="left"></td></tr><tr><td align="left"><code>committer_email</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The email of committer</td><td align="left"></td></tr><tr><td align="left"><code>committed_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The last time the commit gets modified.<br>For example, when rebasing the branch where the commit is in on another branch, the committed_date changes.</td><td align="left"></td></tr><tr><td align="left"><code>committer_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of committer</td><td align="left">FK_accounts.id</td></tr><tr><td align="left"><code>additions</code></td><td align="left">int</td><td align="left"></td><td align="left">Added lines of code</td><td align="left"></td></tr><tr><td align="left"><code>deletions</code></td><td align="left">int</td><td align="left"></td><td align="left">Deleted lines of code</td><td align="left"></td></tr><tr><td align="left"><code>dev_eq</code></td><td align="left">int</td><td align="left"></td><td align="left">A metric that quantifies the amount of code contribution. The data can be retrieved from <a href="https://github.com/apache/incubator-devlake/tree/main/backend/plugins/ae" target="_blank" rel="noopener noreferrer">AE plugin</a>.</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="commit_files">commit_files<a class="hash-link" href="#commit_files" title="标题的直接链接">​</a></h4><p>The files have been changed via commits.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The <code>id</code> is composed of &quot;&lt; Commit_sha &gt;:&lt; file_path &gt;&quot;</td><td align="left">FK_commits.sha</td></tr><tr><td align="left"><code>commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">Commit sha</td><td align="left">FK_commits.sha</td></tr><tr><td align="left"><code>file_path</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Path of a changed file in a commit</td><td align="left"></td></tr><tr><td align="left"><code>additions</code></td><td align="left">int</td><td align="left"></td><td align="left">The added lines of code in this file by the commit</td><td align="left"></td></tr><tr><td align="left"><code>deletions</code></td><td align="left">int</td><td align="left"></td><td align="left">The deleted lines of code in this file by the commit</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="components">components<a class="hash-link" href="#components" title="标题的直接链接">​</a></h4><p>The components of files extracted from the file paths. This can be used to analyze Git metrics by component.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>repo_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The repo id</td><td align="left">FK_repos.id</td></tr><tr><td align="left"><code>name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The name of component</td><td align="left"></td></tr><tr><td align="left"><code>path_regex</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The regex to extract components from this repo&#x27;s paths</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="commit_file_components">commit_file_components<a class="hash-link" href="#commit_file_components" title="标题的直接链接">​</a></h4><p>The relationship between commit_file and component_name.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>commit_file_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of commit file</td><td align="left">FK_commit_files.id</td></tr><tr><td align="left"><code>component_name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The component name of a file</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="commit_parents">commit_parents<a class="hash-link" href="#commit_parents" title="标题的直接链接">​</a></h4><p>The parent commit(s) for each commit, as specified by Git.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">commit sha</td><td align="left">FK_commits.sha</td></tr><tr><td align="left"><code>parent</code></td><td align="left">char</td><td align="left">40</td><td align="left">Parent commit sha</td><td align="left">FK_commits.sha</td></tr></tbody></table><br><h3 class="anchor anchorWithStickyNavbar_LWe7" id="domain-3---code-review">Domain 3 - Code Review<a class="hash-link" href="#domain-3---code-review" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pull_requests">pull_requests<a class="hash-link" href="#pull_requests" title="标题的直接链接">​</a></h4><p>A pull request is the abstraction of GitHub pull request and Gitlab merge request.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">char</td><td align="left">40</td><td align="left">A pull request&#x27;s <code>id</code> is composed of &quot;&lt; plugin &gt;:&lt; Entity &gt;:&lt; PK0 &gt;<!-- -->[:PK1]<!-- -->...&quot; Eg. For &#x27;github:GithubPullRequests:1347&#x27;</td><td align="left">FK_commits.sha</td></tr><tr><td align="left"><code>title</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The title of pull request</td><td align="left"></td></tr><tr><td align="left"><code>description</code></td><td align="left">longtext</td><td align="left"></td><td align="left">The body/description of pull request</td><td align="left"></td></tr><tr><td align="left"><code>status</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">the status of pull requests. For a Github pull request, the status can either be &#x27;open&#x27; or &#x27;closed&#x27;.</td><td align="left"></td></tr><tr><td align="left"><code>parent_pr_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of the parent PR</td><td align="left"></td></tr><tr><td align="left"><code>pull_request_key</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The key of PR. Eg, 1536 is the key of this <a href="https://github.com/apache/incubator-devlake/pull/1563" target="_blank" rel="noopener noreferrer">PR</a></td><td align="left"></td></tr><tr><td align="left"><code>base_repo_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The repo that will be updated.</td><td align="left"></td></tr><tr><td align="left"><code>head_reop_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The repo containing the changes that will be added to the base. If the head repository is NULL, this means that the corresponding project had been deleted when DevLake processed the pull request.</td><td align="left"></td></tr><tr><td align="left"><code>base_ref</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The branch name in the base repo that will be updated</td><td align="left"></td></tr><tr><td align="left"><code>head_ref</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The branch name in the head repo that contains the changes that will be added to the base</td><td align="left"></td></tr><tr><td align="left"><code>author_name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The author&#x27;s name of the pull request</td><td align="left"></td></tr><tr><td align="left"><code>author_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The author&#x27;s id of the pull request</td><td align="left"></td></tr><tr><td align="left"><code>url</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">the web link of the pull request</td><td align="left"></td></tr><tr><td align="left"><code>type</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The work-type of a pull request. For example: feature-development, bug-fix, docs, etc.<br>The value is transformed from Github pull request labels by configuring <code>GITHUB_PR_TYPE</code> in <code>.env</code> file during installation.</td><td align="left"></td></tr><tr><td align="left"><code>component</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The component this PR affects.<br>The value is transformed from Github/Gitlab pull request labels by configuring <code>GITHUB_PR_COMPONENT</code> in <code>.env</code> file during installation.</td><td align="left"></td></tr><tr><td align="left"><code>created_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The time PR created.</td><td align="left"></td></tr><tr><td align="left"><code>merged_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The time PR gets merged. Null when the PR is not merged.</td><td align="left"></td></tr><tr><td align="left"><code>closed_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">The time PR closed. Null when the PR is not closed.</td><td align="left"></td></tr><tr><td align="left"><code>merge_commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">the merge commit of this PR. By the definition of <a href="https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-branches-in-your-repository/changing-the-default-branch" target="_blank" rel="noopener noreferrer">Github</a>, when you click the default Merge pull request option on a pull request on Github, all commits from the feature branch are added to the base branch in a merge commit.</td><td align="left"></td></tr><tr><td align="left"><code>base_commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">The base commit of this PR.</td><td align="left"></td></tr><tr><td align="left"><code>head_commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">The head commit of this PR.</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pull_request_labels">pull_request_labels<a class="hash-link" href="#pull_request_labels" title="标题的直接链接">​</a></h4><p>This table shows the labels of pull request. Multiple entries can exist per pull request. This table can be used to filter pull requests by label name.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Label name</td><td align="left"></td></tr><tr><td align="left"><code>pull_request_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Pull request ID</td><td align="left">FK_pull_requests.id</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pull_request_commits">pull_request_commits<a class="hash-link" href="#pull_request_commits" title="标题的直接链接">​</a></h4><p>A commit associated with a pull request</p><p>The list is additive. This means if a rebase with commit squashing takes place after the commits of a pull request have been processed, the old commits will not be deleted.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>pull_request_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Pull request id</td><td align="left">FK_pull_requests.id</td></tr><tr><td align="left"><code>commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">Commit sha</td><td align="left">FK_commits.sha</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pull_request_comments">pull_request_comments<a class="hash-link" href="#pull_request_comments" title="标题的直接链接">​</a></h4><p>Normal comments, review bodies, reviews&#x27; inline comments of GitHub&#x27;s pull requests or GitLab&#x27;s merge requests.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Comment id</td><td align="left">PK</td></tr><tr><td align="left"><code>pull_request_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Pull request id</td><td align="left">FK_pull_requests.id</td></tr><tr><td align="left"><code>body</code></td><td align="left">longtext</td><td align="left"></td><td align="left">The body of the comments</td><td align="left"></td></tr><tr><td align="left"><code>account_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The account who made the comment</td><td align="left">FK_accounts.id</td></tr><tr><td align="left"><code>created_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">Comment creation time</td><td align="left"></td></tr><tr><td align="left"><code>position</code></td><td align="left">int</td><td align="left"></td><td align="left">Deprecated</td><td align="left"></td></tr><tr><td align="left"><code>type</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">- For normal comments: NORMAL<br> - For review comments, ie. diff/inline comments: DIFF<br> - For reviews&#x27; body (exist in GitHub but not GitLab): REVIEW</td><td align="left"></td></tr><tr><td align="left"><code>review_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Review_id of the comment if the type is <code>REVIEW</code> or <code>DIFF</code></td><td align="left"></td></tr><tr><td align="left"><code>status</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Status of the comment</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pull_request_eventswip">pull_request_events(WIP)<a class="hash-link" href="#pull_request_eventswip" title="标题的直接链接">​</a></h4><p>Events of pull requests.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Event id</td><td align="left">PK</td></tr><tr><td align="left"><code>pull_request_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Pull request id</td><td align="left">FK_pull_requests.id</td></tr><tr><td align="left"><code>action</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The action to be taken, some values:<ul><li><code>opened</code>: When the pull request has been opened</li><li><code>closed</code>: When the pull request has been closed</li><li><code>merged</code>: When Github detected that the pull request has been merged. No merges outside Github (i.e. Git based) are reported</li><li><code>reoponed</code>: When a pull request is opened after being closed</li><li><code>syncrhonize</code>: When new commits are added/removed to the head repository</li></ul></td><td align="left"></td></tr><tr><td align="left"><code>actor_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The account id of the event performer</td><td align="left">FK_accounts.id</td></tr><tr><td align="left"><code>created_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">Event creation time</td><td align="left"></td></tr></tbody></table><br><h3 class="anchor anchorWithStickyNavbar_LWe7" id="domain-4---cicdwip">Domain 4 - CI/CD(WIP)<a class="hash-link" href="#domain-4---cicdwip" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cicd_scopes">cicd_scopes<a class="hash-link" href="#cicd_scopes" title="标题的直接链接">​</a></h4><p>Information about Jenkins Job, GitHub Action or Gitlab CI.</p><ul><li>For GitHub: a GitHub repo is converted to a cicd_scope</li><li>For Jenkins: a GitLab project is converted to a cicd_scope</li><li>For GitLab: a Jenkins job is converted to a cicd_scope</li></ul><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">A cicd_scope&#x27;s <code>id</code> is composed of &quot;&lt; plugin &gt;:&lt; Entity &gt;:&lt; PK0 &gt;<!-- -->[:PK1]<!-- -->...&quot;<br>For example, a Github cicd_scope&#x27;s id is like &quot;&lt; github &gt;:&lt; GithubRepos &gt;:&lt; ConnectionId &gt;:&lt; GithubRepoId &gt;&quot;. Eg. &#x27;github:GithubRepos:1:384111310&#x27;</td><td align="left">PK</td></tr><tr><td align="left"><code>name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The name of cicd_scope.</td><td align="left"></td></tr><tr><td align="left"><code>description</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The description of cicd_scope.</td><td align="left"></td></tr><tr><td align="left"><code>url</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The url of cicd_scope. Eg. <a href="https://github.com/apache/incubator-devlake" target="_blank" rel="noopener noreferrer">https://github.com/apache/incubator-devlake</a> or <a href="https://jenkins.xxx.cn/view/PROD/job/OPS_releasev2/" target="_blank" rel="noopener noreferrer">https://jenkins.xxx.cn/view/PROD/job/OPS_releasev2/</a></td><td align="left"></td></tr><tr><td align="left"><code>created_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">cicd_scope creation date</td><td align="left"></td></tr><tr><td align="left"><code>updated_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">Date of the last data collection for this cicd_scope</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cicd_pipelines">cicd_pipelines<a class="hash-link" href="#cicd_pipelines" title="标题的直接链接">​</a></h4><p>A cicd_pipeline is a series of builds that have connections or a standalone build.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">This key is generated based on details from the original plugin</td><td align="left">PK</td></tr><tr><td align="left"><code>name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">For gitlab, as there is no name for pipeline, so we use projectId, others have their own name</td><td align="left"></td></tr><tr><td align="left"><code>result</code></td><td align="left">varchar</td><td align="left">100</td><td align="left">The result of this task</td><td align="left"></td></tr><tr><td align="left"><code>status</code></td><td align="left">varchar</td><td align="left">100</td><td align="left">The status of this task</td><td align="left"></td></tr><tr><td align="left"><code>type</code></td><td align="left">varchar</td><td align="left">100</td><td align="left">To indicate if this is a DEPLOYMENT</td><td align="left"></td></tr><tr><td align="left"><code>duration_sec</code></td><td align="left">bigint unsigned</td><td align="left"></td><td align="left">how long does this task take</td><td align="left"></td></tr><tr><td align="left"><code>started_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">when did this task start</td><td align="left"></td></tr><tr><td align="left"><code>finished_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">when did this task finish</td><td align="left"></td></tr><tr><td align="left"><code>environment</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">To indicate the environment in which the task is running</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cicd_pipeline_commits">cicd_pipeline_commits<a class="hash-link" href="#cicd_pipeline_commits" title="标题的直接链接">​</a></h4><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>pipeline_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">This key is generated based on details from the original plugin</td><td align="left">PK</td></tr><tr><td align="left"><code>commit_sha</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The commit that trigger this pipeline</td><td align="left">PK</td></tr><tr><td align="left"><code>branch</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The branch that trigger this pipeline</td><td align="left"></td></tr><tr><td align="left"><code>repo</code></td><td align="left">varchar</td><td align="left">255</td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code>repo_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The repo that this pipeline belongs to</td><td align="left"></td></tr><tr><td align="left"><code>repo_url</code></td><td align="left">longtext</td><td align="left"></td><td align="left"></td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cicd_tasks">cicd_tasks<a class="hash-link" href="#cicd_tasks" title="标题的直接链接">​</a></h4><p>A cicd_task is a single job of ci/cd.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">This key is generated based on details from the original plugin</td><td align="left">PK</td></tr><tr><td align="left"><code>name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code>pipeline_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The id of pipeline</td><td align="left"></td></tr><tr><td align="left"><code>result</code></td><td align="left">varchar</td><td align="left">100</td><td align="left">The result of this task</td><td align="left"></td></tr><tr><td align="left"><code>status</code></td><td align="left">varchar</td><td align="left">100</td><td align="left">The status of this task</td><td align="left"></td></tr><tr><td align="left"><code>type</code></td><td align="left">varchar</td><td align="left">100</td><td align="left">To indicate if this is a DEPLOYMENT</td><td align="left"></td></tr><tr><td align="left"><code>duration_sec</code></td><td align="left">bigint unsigned</td><td align="left"></td><td align="left">how long does this task take</td><td align="left"></td></tr><tr><td align="left"><code>started_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">when did this task start</td><td align="left"></td></tr><tr><td align="left"><code>finished_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">when did this task finish</td><td align="left"></td></tr><tr><td align="left"><code>environment</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">To indicate the environment in which the task is running</td><td align="left"></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-metric-entities">Project Metric Entities<a class="hash-link" href="#project-metric-entities" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="project_pr_metrics">project_pr_metrics<a class="hash-link" href="#project_pr_metrics" title="标题的直接链接">​</a></h4><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Id of PR</td><td align="left">PK</td></tr><tr><td align="left"><code>project_name</code></td><td align="left">varchar</td><td align="left">100</td><td align="left">The project that this PR belongs to</td><td align="left">PK</td></tr><tr><td align="left"><code>first_review_id</code></td><td align="left">longtext</td><td align="left"></td><td align="left">The id of the first review on this pr</td><td align="left"></td></tr><tr><td align="left"><code>first_commit_sha</code></td><td align="left">longtext</td><td align="left"></td><td align="left">The sha of the first commit</td><td align="left"></td></tr><tr><td align="left"><code>pr_coding_time</code></td><td align="left">bigint</td><td align="left"></td><td align="left">The time it takes from the first commit until a PR is issued</td><td align="left"></td></tr><tr><td align="left"><code>pr_pickup_time</code></td><td align="left">bigint</td><td align="left"></td><td align="left">The time it takes from when a PR is issued until the first comment is added to that PR</td><td align="left"></td></tr><tr><td align="left"><code>pr_review_time</code></td><td align="left">bigint</td><td align="left"></td><td align="left">The time it takes to complete a code review of a PR before it gets merged</td><td align="left"></td></tr><tr><td align="left"><code>deployment_id</code></td><td align="left">longtext</td><td align="left"></td><td align="left">The id of cicd_task which deploy the commits of this PR</td><td align="left"></td></tr><tr><td align="left"><code>pr_deploy_time</code></td><td align="left">bigint</td><td align="left"></td><td align="left">The time it takes from when a PR is merged to when it is deployed</td><td align="left"></td></tr><tr><td align="left"><code>pr_cycle_time</code></td><td align="left">bigint</td><td align="left"></td><td align="left">The total time from the first commit to when the PR is deployed</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="project_issue_metrics">project_issue_metrics<a class="hash-link" href="#project_issue_metrics" title="标题的直接链接">​</a></h4><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Id of Issue</td><td align="left">PK</td></tr><tr><td align="left"><code>project_name</code></td><td align="left">varchar</td><td align="left">100</td><td align="left">The project that this Issue belongs to</td><td align="left">PK</td></tr><tr><td align="left"><code>deployment_id</code></td><td align="left">longtext</td><td align="left"></td><td align="left">The id of cicd_task which cause an incident</td><td align="left"></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cross-domain-entities">Cross-Domain Entities<a class="hash-link" href="#cross-domain-entities" title="标题的直接链接">​</a></h3><p>These entities are used to map entities between different domains. They are the key players to break data isolation.</p><p>There&#x27;re low-level entities such as issue_commits, users, and higher-level cross domain entities such as board_repos</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="issue_commits">issue_commits<a class="hash-link" href="#issue_commits" title="标题的直接链接">​</a></h4><p>A low-level mapping between &quot;issue tracking&quot; and &quot;source code management&quot; domain by mapping <code>issues</code> and <code>commits</code>. Issue(n): Commit(n).</p><p>The original connection between these two entities lies in either issue tracking tools like Jira or source code management tools like GitLab. You have to use tools to accomplish this.</p><p>For example, a common method to connect Jira issue and GitLab commit is a GitLab plugin <a href="https://docs.gitlab.com/ee/integration/jira/" target="_blank" rel="noopener noreferrer">Jira Integration</a>. With this plugin, the Jira issue key in the commit message written by the committers will be parsed. Then, the plugin will add the commit urls under this jira issue. Hence, DevLake&#x27;s <a href="https://github.com/apache/incubator-devlake/tree/main/backend/plugins/jira" target="_blank" rel="noopener noreferrer">Jira plugin</a> can get the related commits (including repo, commit_id, url) of an issue.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>issue_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Issue id</td><td align="left">FK_issues.id</td></tr><tr><td align="left"><code>commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">Commit sha</td><td align="left">FK_commits.sha</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pull_request_issues">pull_request_issues<a class="hash-link" href="#pull_request_issues" title="标题的直接链接">​</a></h4><p>This table shows the issues closed by pull requests. It&#x27;s a medium-level mapping between &quot;issue tracking&quot; and &quot;source code management&quot; domain by mapping issues and commits. Issue(n): Commit(n).</p><p>The data is extracted from the body of pull requests conforming to certain regular expression. The regular expression can be defined in GITHUB_PR_BODY_CLOSE_PATTERN in the .env file</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>pull_request_id</code></td><td align="left">char</td><td align="left">40</td><td align="left">Pull request id</td><td align="left">FK_pull_requests.id</td></tr><tr><td align="left"><code>issue_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Issue id</td><td align="left">FK_issues.id</td></tr><tr><td align="left"><code>pull_request_number</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Pull request key</td><td align="left"></td></tr><tr><td align="left"><code>issue_number</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Issue key</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="board_repos-deprecated">board_repos (Deprecated)<a class="hash-link" href="#board_repos-deprecated" title="标题的直接链接">​</a></h4><p>A way to link &quot;issue tracking&quot; and &quot;source code management&quot; domain by mapping <code>boards</code> and <code>repos</code>. Board(n): Repo(n).</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>board_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Board id</td><td align="left">FK_boards.id</td></tr><tr><td align="left"><code>repo_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Repo id</td><td align="left">FK_repos.id</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="accounts">accounts<a class="hash-link" href="#accounts" title="标题的直接链接">​</a></h4><p>This table stores of user accounts across different tools such as GitHub, Jira, GitLab, etc. This table can be joined to get the metadata of all accounts.
metrics, such as <em>&#x27;No. of Issue closed by contributor&#x27;, &#x27;No. of commits by contributor&#x27;,</em></p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">An account&#x27;s <code>id</code> is the identifier of the account of a specific tool. It is composed of &quot;&lt; Plugin &gt;:&lt; Entity &gt;:&lt; PK0 &gt;<!-- -->[:PK1]<!-- -->...&quot;<br>For example, a Github account&#x27;s id is composed of &quot;&lt; github &gt;:&lt; GithubAccounts &gt;:&lt; GithubUserId &gt;)&quot;. Eg. &#x27;github:GithubUsers:14050754&#x27;</td><td align="left">PK</td></tr><tr><td align="left"><code>email</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Email of the account</td><td align="left"></td></tr><tr><td align="left"><code>full_name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Full name</td><td align="left"></td></tr><tr><td align="left"><code>user_name</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Username, nickname or Github login of an account</td><td align="left"></td></tr><tr><td align="left"><code>avatar_url</code></td><td align="left">varchar</td><td align="left">255</td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><code>organization</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">User&#x27;s organization(s)</td><td align="left"></td></tr><tr><td align="left"><code>created_date</code></td><td align="left">datetime</td><td align="left">3</td><td align="left">User creation time</td><td align="left"></td></tr><tr><td align="left"><code>status</code></td><td align="left">int</td><td align="left"></td><td align="left">0: default, the user is active. 1: the user is not active</td><td align="left"></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="users">users<a class="hash-link" href="#users" title="标题的直接链接">​</a></h4><table><thead><tr><th><strong>field</strong></th><th><strong>type</strong></th><th><strong>length</strong></th><th><strong>description</strong></th><th><strong>key</strong></th></tr></thead><tbody><tr><td><code>id</code></td><td>varchar</td><td>255</td><td>id of a person</td><td>PK</td></tr><tr><td><code>email</code></td><td>varchar</td><td>255</td><td>the primary email of a person</td><td></td></tr><tr><td><code>name</code></td><td>varchar</td><td>255</td><td>name of a person</td><td></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="user_accounts">user_accounts<a class="hash-link" href="#user_accounts" title="标题的直接链接">​</a></h4><table><thead><tr><th><strong>field</strong></th><th><strong>type</strong></th><th><strong>length</strong></th><th><strong>description</strong></th><th><strong>key</strong></th></tr></thead><tbody><tr><td><code>user_id</code></td><td>varchar</td><td>255</td><td>users.id</td><td>Composite PK, FK</td></tr><tr><td><code>account_id</code></td><td>varchar</td><td>255</td><td>accounts.id</td><td>Composite PK, FK</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="teams">teams<a class="hash-link" href="#teams" title="标题的直接链接">​</a></h4><table><thead><tr><th><strong>field</strong></th><th><strong>type</strong></th><th><strong>length</strong></th><th><strong>description</strong></th><th><strong>key</strong></th></tr></thead><tbody><tr><td><code>id</code></td><td>varchar</td><td>255</td><td>id from the data sources, decided by DevLake users</td><td>PK</td></tr><tr><td><code>name</code></td><td>varchar</td><td>255</td><td>name of the team. Eg. team A, team B, etc.</td><td></td></tr><tr><td><code>alias</code></td><td>varchar</td><td>255</td><td>alias or abbreviation of a team</td><td></td></tr><tr><td><code>parent_id</code></td><td>varchar</td><td>255</td><td>teams.id, default to null</td><td>FK</td></tr><tr><td><code>sorting_index</code></td><td>int</td><td>255</td><td>the field to sort team</td><td></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="team_users">team_users<a class="hash-link" href="#team_users" title="标题的直接链接">​</a></h4><table><thead><tr><th><strong>field</strong></th><th><strong>type</strong></th><th><strong>length</strong></th><th><strong>description</strong></th><th><strong>key</strong></th></tr></thead><tbody><tr><td><code>team_id</code></td><td>varchar</td><td>255</td><td>Full name of the team. Eg. team A, team B, etc.</td><td>Composite PK, FK</td></tr><tr><td><code>user_id</code></td><td>varchar</td><td>255</td><td>users.id</td><td>Composite PK, FK</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="project">project<a class="hash-link" href="#project" title="标题的直接链接">​</a></h4><table><thead><tr><th><strong>field</strong></th><th><strong>type</strong></th><th><strong>length</strong></th><th><strong>description</strong></th><th><strong>key</strong></th></tr></thead><tbody><tr><td><code>name</code></td><td>varchar</td><td>255</td><td>name for project</td><td>PK</td></tr><tr><td><code>description</code></td><td>longtext</td><td></td><td>description of the project</td><td></td></tr><tr><td><code>created_at</code></td><td>datetime</td><td>3</td><td>created time of project</td><td></td></tr><tr><td><code>updated_at</code></td><td>datetime</td><td>3</td><td>last updated time of project</td><td></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="project_metric_settings">project_metric_settings<a class="hash-link" href="#project_metric_settings" title="标题的直接链接">​</a></h4><table><thead><tr><th><strong>field</strong></th><th><strong>type</strong></th><th><strong>length</strong></th><th><strong>description</strong></th><th><strong>key</strong></th></tr></thead><tbody><tr><td><code>project_name</code></td><td>varchar</td><td>255</td><td>name for project</td><td>PK</td></tr><tr><td><code>plugin_name</code></td><td>varchar</td><td>255</td><td>name for plugin</td><td>PK</td></tr><tr><td><code>plugin_option</code></td><td>longtext</td><td></td><td>check if metric plugins have been enabled by the project</td><td></td></tr><tr><td><code>enable</code></td><td>tinyint</td><td>1</td><td>if the metric plugins is enabled</td><td></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="project_mapping">project_mapping<a class="hash-link" href="#project_mapping" title="标题的直接链接">​</a></h4><table><thead><tr><th><strong>field</strong></th><th><strong>type</strong></th><th><strong>length</strong></th><th><strong>description</strong></th><th><strong>key</strong></th></tr></thead><tbody><tr><td><code>project_name</code></td><td>varchar</td><td>255</td><td>name for project</td><td>PK</td></tr><tr><td><code>table</code></td><td>varchar</td><td>255</td><td>the table name of <a href="/zh/docs/v0.15/Overview/KeyConcepts#data-scope">Scope</a></td><td>PK</td></tr><tr><td><code>row_id</code></td><td>varchar</td><td>255</td><td>the row_id in the <a href="/zh/docs/v0.15/Overview/KeyConcepts#data-scope">Scope</a> table</td><td>PK</td></tr></tbody></table><br><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dwm-entities---data-warehouse-middle">DWM Entities - (Data Warehouse Middle)<a class="hash-link" href="#dwm-entities---data-warehouse-middle" title="标题的直接链接">​</a></h2><p>DWM entities are the slight aggregation and operation of DWD to store more organized details or middle-level metrics.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="refs_issues_diffs">refs_issues_diffs<a class="hash-link" href="#refs_issues_diffs" title="标题的直接链接">​</a></h4><p>This table shows the issues fixed by commits added in a new ref compared to an old one. The data is computed from <a href="#commits_diffs">table.commits_diffs</a>, <a href="#finished_commits_diffs">table.finished_commits_diffs</a>, <a href="#pull_requests">table.pull_requests</a>, <a href="#pull_request_commits">table.pull_request_commits</a>, and <a href="#pull_request_issues">table.pull_request_issues</a>.</p><p>This table can support tag-based analysis, for instance, &#x27;<em>No. of bugs closed in a tag</em>&#x27;.</p><table><thead><tr><th align="left"><strong>field</strong></th><th align="left"><strong>type</strong></th><th align="left"><strong>length</strong></th><th align="left"><strong>description</strong></th><th align="left"><strong>key</strong></th></tr></thead><tbody><tr><td align="left"><code>new_ref_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The new ref&#x27;s id for comparison</td><td align="left">FK_refs.id</td></tr><tr><td align="left"><code>old_ref_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">The old ref&#x27;s id for comparison</td><td align="left">FK_refs.id</td></tr><tr><td align="left"><code>new_ref_commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">The commit new ref points to at the time of collection</td><td align="left"></td></tr><tr><td align="left"><code>old_ref_commit_sha</code></td><td align="left">char</td><td align="left">40</td><td align="left">The commit old ref points to at the time of collection</td><td align="left"></td></tr><tr><td align="left"><code>issue_number</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Issue number</td><td align="left"></td></tr><tr><td align="left"><code>issue_id</code></td><td align="left">varchar</td><td align="left">255</td><td align="left">Issue id</td><td align="left">FK_issues.id</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="get-domain-layer-models-in-developer-mode">Get Domain Layer Models in Developer Mode<a class="hash-link" href="#get-domain-layer-models-in-developer-mode" title="标题的直接链接">​</a></h2><p>When developing a new plugin, you need to refer to domain layer models, as all raw data should be transformed to domain layer data to provide standardized metrics across tools. Please use the following method to access the domain data models.</p><div class="language-golang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-golang codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import &quot;github.com/apache/incubator-devlake/models/domainlayer/domaininfo&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">domaininfo := domaininfo.GetDomainTablesInfo()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for _, table := range domaininfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // do something</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you want to learn more about plugin models, please visit <a href="https://devlake.apache.org/docs/DeveloperManuals/PluginImplementation" target="_blank" rel="noopener noreferrer">PluginImplementation</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/incubator-devlake-website/edit/main/versioned_docs/version-v0.15/DataModels/DevLakeDomainLayerSchema.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/docs/v0.15/DataModels"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Data Models</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/docs/v0.15/DataModels/ToolLayerSchema"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Tool Layer Schema</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use Cases</a></li><li><a href="#data-models" class="table-of-contents__link toc-highlight">Data Models</a><ul><li><a href="#schema-diagram" class="table-of-contents__link toc-highlight">Schema Diagram</a></li><li><a href="#naming-conventions" class="table-of-contents__link toc-highlight">Naming Conventions</a></li></ul></li><li><a href="#how-to-customize-data-models" class="table-of-contents__link toc-highlight">How to Customize Data Models</a></li><li><a href="#dwd-entities---data-warehouse-detail" class="table-of-contents__link toc-highlight">DWD Entities - (Data Warehouse Detail)</a><ul><li><a href="#domain-1---issue-tracking" class="table-of-contents__link toc-highlight">Domain 1 - Issue Tracking</a></li><li><a href="#domain-2---source-code-management" class="table-of-contents__link toc-highlight">Domain 2 - Source Code Management</a></li><li><a href="#domain-3---code-review" class="table-of-contents__link toc-highlight">Domain 3 - Code Review</a></li><li><a href="#domain-4---cicdwip" class="table-of-contents__link toc-highlight">Domain 4 - CI/CD(WIP)</a></li><li><a href="#project-metric-entities" class="table-of-contents__link toc-highlight">Project Metric Entities</a></li><li><a href="#cross-domain-entities" class="table-of-contents__link toc-highlight">Cross-Domain Entities</a></li></ul></li><li><a href="#dwm-entities---data-warehouse-middle" class="table-of-contents__link toc-highlight">DWM Entities - (Data Warehouse Middle)</a></li><li><a href="#get-domain-layer-models-in-developer-mode" class="table-of-contents__link toc-highlight">Get Domain Layer Models in Developer Mode</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh/docs/GettingStarted">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/docs/DataModels/DevLakeDomainLayerSchema">Data Models</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/docs/Metrics">Engineering Metrics</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/devlake-io/shared_invite/zt-2ox842kuu-_6x3Lwdj88YpzKhMRpgnMg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://github.com/apache/incubator-devlake/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issue Tracker</a></li><li class="footer__item"><a href="https://github.com/apache/incubator-devlake-website/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issue Tracker For Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/apache/incubator-devlake" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/ApacheDevLake" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/community/trademark">Trademark Guidelines</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        <div style="margin-top: 20px">
          <a href="https://incubator.apache.org/" target="_blank"><img style="height:40px; margin-bottom: 10px; margin-top: 10px" alt="Apache Software Foundation" src="/img/apache-incubator.svg"></a>
          <p style="text-align:left; font-weight: 300; font-size: 0.8em;">Apache DevLake is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.</p>
          <p style="text-align:left; font-weight: 300; font-size: 0.8em;">Copyright ©2025 Apache DevLake, DevLake, Apache, the Apache feather logo and the Apache DevLake project logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>
        </div> 
        </div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.7a39770e.js"></script>
<script src="/zh/assets/js/main.47440dc7.js"></script>
</body>
</html>